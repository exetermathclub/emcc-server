$(function(){function h(a,b,c,d,e){$.ajax({url:"../wsgi-scripts/register.py",method:"POST",data:{username:a,email:b,realname:c,password:CryptoJS.SHA512(d).toString(CryptoJS.enc.Hex),orgname:e},dataType:"text",success:function(a){"true"===a?window.location.href="login.shtml":"false"===a&&(f.val(""),$("#username_tip").text("This username has already been used, please choose another one"))}})}var c=[$("#username"),$("#email"),$("#realname"),$("#password"),$("#confirm"),$("#team")],d=[$("#username_tip"),
$("#email_tip"),$("#realname_tip"),$("#password_tip"),$("#confirm_tip"),$("#team_tip")],f=$("#username"),k=$("#email"),l=$("#realname"),e=$("#password"),m=$("#team"),g=$("#button");g.click(function(){var a,b=!0;for(a=0;6>a;a+=1)4===a&&c[4].val()!==c[3].val()?(d[4].text("Passwords do not match."),b=!1):1===a&&-1===c[1].val().indexOf("@")?(d[1].text("Please enter a valid email address."),b=!1):5!==a&&0===c[a].val().length?(d[a].text("This field is required."),b=!1):d[a].text("");b&&h(f.val(),k.val(),
l.val(),e.val(),m.val())});e.keypress(function(a){a&&13===a.keyCode&&g.click()})});
